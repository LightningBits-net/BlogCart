
@page "/"
    @namespace BlogCart.Pages
    @using BlogCart.Service

    @addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

    @{
        var httpContextAccessor = (IHttpContextAccessor)PageContext.HttpContext.RequestServices.GetService(typeof(IHttpContextAccessor));
        var domain = httpContextAccessor.HttpContext.Request.Host.Value.ToLower();

        var domainLayoutService = new DomainLayoutService();
        var layoutType = domainLayoutService.GetLayoutForDomain(domain);
        var layoutName = $"_{layoutType.Name}";
    }

    @{ Layout = layoutName; }

    <component type="typeof(App)" render-mode="ServerPrerendered" />

